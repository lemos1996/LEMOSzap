import{j as e,r as x}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f.js";import{ak as y,am as k,al as C,U as E,bb as A,D as u}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f11.js";import{a as f,h as P}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f22.js";import{H as g}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f23.js";import{W as b,V as S}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f19.js";import{u as p}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f20.js";import{o as T}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f66.js";import{c as _}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f59.js";import{u as O}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f46.js";import{a as j}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f108.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f9.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f6.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f8.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f7.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f10.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f45.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f47.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f4.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f3.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f2.js";const h={INFO:{text:"text-blue-600",border:"border-blue-500/15"},ALERT:{text:"text-amber-600",border:"border-amber-500/15"},PROMOTION:{text:"text-emerald-600",border:"border-emerald-500/15"}};function v({nt:a}){const{language:i}=p(),{notify_views:o,setViews:n}=f(O(l=>({notify_views:l.notify.views,setViews:l.setViews}))),r=h[a.type]||h.INFO,m=!o.includes(a.id),t=l=>{l.stopPropagation(),l.preventDefault(),a.redirect=="EXTERNAL"?window.open(a.link,"_blank"):(n("modal",a.id),T(a.whatsapp,a.menssage))};return e.jsxs("div",{className:`group relative p-4 rounded-lg border  cursor-pointer
                border-gray-200/60 dark:border-gray-700/60 
                bg-gray-200 dark:bg-neutral-800
                hover:border-gray-300 dark:hover:border-gray-600 
                hover:shadow-md dark:hover:shadow-lg dark:hover:shadow-black/20
                ${r.border}`,onClick:l=>{l.stopPropagation(),l.preventDefault(),n("notify",a.id)},children:[m&&e.jsx("div",{className:"absolute -top-2 -left-2 w-3 h-3 rounded-full bg-[var(--primaria)] animate-pulse shadow-lg shadow-[var(--primaria)]/50"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-shrink-0 p-2.5 rounded-lg",children:[a.type==="INFO"&&e.jsx(y,{className:`h-5 w-5 ${r.text}`,strokeWidth:1.5}),a.type==="ALERT"&&e.jsx(k,{className:`h-5 w-5 ${r.text}`,strokeWidth:1.5}),a.type==="PROMOTION"&&e.jsx(C,{className:`h-5 w-5 ${r.text}`,strokeWidth:1.5})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-white leading-tight",children:a.title}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 font-medium whitespace-nowrap ml-2",children:E.MillisToFormattedDate(a.data)})]}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:`text-sm text-gray-600 dark:text-gray-300 leading-relaxed 
                                [&_strong]:text-gray-900 [&_strong]:dark:text-gray-100 [&_strong]:font-semibold
                                [&_strong.italic]:italic`,style:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:a.statement.replace(/\_(.*?)\_/g,'<strong class="italic">$1</strong>').replace(/\*(.*?)\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}})}),a.link&&e.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 text-sm font-medium text-[var(--primaria)] group/btn",children:[e.jsx("span",{children:a.btnName.length!==0?a.btnName:i.cliqueAqui}),e.jsx(_,{className:"h-4 w-4 flex-shrink-0 transition-transform group-hover/btn:translate-x-0.5",strokeWidth:1})]})]})]})]},a.id)}function F(){const a=f(o=>o.notify.notify);return e.jsx("div",{className:"grid gap-2 p-4 overflow-y-auto overflow-x-hidden",style:{maxHeight:"calc(100vh - 90px)"},children:a.map(o=>e.jsx(v,{nt:o},o.id))})}function z(){const{notifications:a,setNotifications:i}=g(),o=P(s=>s.getCaixaDeEntrada),n=s=>{const c=[...a];for(let d=0;d<c.length;d++)c[d].id===s&&(c[d].read=!0);i(c)},r=(s,c)=>{s.stopPropagation();const N=[...a].filter(w=>w.id!==c);i(N)},m=s=>{b.Chat("openChatBottom",s.user_id)},t=s=>e.jsxs("div",{className:"flex justify-start hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg w-full",onClick:()=>m(s),style:{borderStyle:"outset"},children:[!s.read&&e.jsx("span",{className:"flex items-center pr-1",children:e.jsx(A,{className:"w-2 h-2 text-[var(--primaria)]"})}),e.jsxs("div",{className:"flex flex-col gap-2",onClick:()=>s.read?null:n(s.id),children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:s.title}),e.jsxs("span",{className:"text-xs",children:[s.date," at ",s.time]})]}),e.jsx("div",{className:"flex justify-end items-center w-full",onClick:d=>r(d,s.id),children:e.jsx("span",{className:"pulse",children:e.jsx(j,{className:"w-5 h-5"})})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 90px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:o().map(s=>s.viewer?e.jsx(v,{nt:s}):s.timeOut?t(s):null)})})}function M(){const{notifications:a,setNotifications:i}=g(),o=(t,l)=>{t.stopPropagation();const c=[...a].filter(d=>d.id!==l);i(c)},n=t=>{b.Chat("openChatBottom",t.user_id)},r=t=>e.jsxs("div",{className:"flex justify-between hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg",style:{borderStyle:"outset"},onClick:()=>n(t),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:t.title}),e.jsxs("span",{className:"text-[12px]",children:[t.date," at ",t.time]})]}),e.jsx("div",{className:"flex justify-center items-center pulse",onClick:s=>o(s,t.id),children:e.jsx(j,{className:"w-5 h-5"})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:a.slice().reverse().map(t=>t.timeOut?null:r(t))})})}function W(){const{language:a,idioma:i}=p(),o={pt:["Correção das funcionalidades após a nova atualização do WhatsApp","Correção da reenvio em massa ao recarregar a página quando há um envio em massa em andamento"],en:["Fix of functionalities after the new WhatsApp update","Fix of mass resend when page is reloaded while mass resend is in progress"],es:["Corrección de las funcionalidades después de la nueva actualización de WhatsApp","Corrección del reenvío masivo al recargar la página cuando hay un reenvío masivo en curso"]};return e.jsx("div",{className:"grid gap-2 p-2 overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsxs("div",{className:"border border-base200 p-2 rounded-lg w-full",style:{borderStyle:"outset"},children:[e.jsxs(u,{children:[a.atualizacao," ",S.version]}),e.jsx("div",{className:"pt-2",children:e.jsx("ul",{style:{listStyle:"inside"},children:o[i].map((r,m)=>e.jsx("li",{className:"marker:text-[var(--primaria)] text-sm",children:r},m))})})]})})}function te(){const[a,i]=x.useState("Entrada"),[o,n]=x.useState(e.jsx(e.Fragment,{})),{language:r}=p();x.useEffect(()=>{switch(a){case"Comunicado":n(e.jsx(F,{}));break;case"Atualizacao":n(e.jsx(W,{}));break;case"Pendentes":n(e.jsx(M,{}));break;case"Entrada":default:n(e.jsx(z,{}));break}},[a]);const m=e.jsx("header",{children:e.jsxs("div",{className:"tabs tabs-bordered",children:[e.jsxs("label",{className:"tab "+(a==="Entrada"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Entrada",children:[e.jsx("span",{children:"Inbox"}),e.jsx("input",{id:"Entrada",type:"checkbox",checked:a==="Entrada",onChange:()=>i("Entrada"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Comunicado"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Comunicado",children:[e.jsx("span",{children:r.comunicado}),e.jsx("input",{id:"Comunicado",type:"checkbox",checked:a==="Comunicado",onChange:()=>i("Comunicado"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Atualizacao"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Atualizacao",children:[e.jsx("span",{children:r.atualizacoes}),e.jsx("input",{id:"Atualizacao",type:"checkbox",checked:a==="Atualizacao",onChange:()=>i("Atualizacao"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Pendentes"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Pendentes",children:[e.jsx("span",{children:r.notificacoesPendentes}),e.jsx("input",{id:"Pendentes",type:"checkbox",checked:a==="Pendentes",onChange:()=>i("Pendentes"),className:"hidden"})]})]})});return e.jsxs("div",{children:[e.jsx(u,{children:r.notifications}),e.jsxs("div",{className:"px-2 pt-2",children:[m,o]})]})}export{te as default};
