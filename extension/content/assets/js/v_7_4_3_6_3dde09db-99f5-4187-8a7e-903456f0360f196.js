import{r as u,j as e}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f.js";import{bf as v,an as xe,n as I,u as M,bg as ue}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f23.js";import{u as h,l as ee}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f20.js";import{u as G}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f22.js";import{c_ as S,J as R,cZ as ge,as as T,aL as he,ap as se,_ as fe,Q as te,bp as F,f as V,c$ as U,d0 as je,c5 as be,r as W,d1 as ve,ao as Ne,d2 as we}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f11.js";import{c as ye,d as Ce,e as re,a as _e,b as ke,s as Ie,g as Ae,r as Se,m as De}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f192.js";import{B as Le,x as q,D as Pe,m as Re,G as Te,a as Ee,p as ze,t as J,b as Oe}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f217.js";import{i as L}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f10.js";import{R as Ve}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f6.js";import{I as ie}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f218.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f45.js";import{E as k}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f116.js";import{S as $e}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f219.js";import{a as ae,b as le,c as ne,S as Fe}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f208.js";import{y as E}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f9.js";import{W as de}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f19.js";import{P as qe}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f168.js";import{A as Be}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f199.js";import{T as He}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f186.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f8.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f7.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f4.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f3.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f2.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f46.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f47.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f5.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f120.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f119.js";const oe=Symbol("item"),K={type:"idle"},X={type:"dragging"};function P(s){return s[oe]===!0}function Ge({item:s,index:a,instanceId:r}){return{[oe]:!0,item:s,index:a,instanceId:r}}const ce=u.createContext(null);function Ue(){const s=u.useContext(ce);return L(s!==null),s}function b({acaoModel:s,children:a,ico:r,icoStyle:t,compStyle:i,id:n}){const{setRemoveAcao:c,model:p}=v[s]();return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center "+i,children:[e.jsx("span",{children:e.jsx(ie,{type:r,style:t})}),e.jsx("span",{children:e.jsx("h2",{className:"font-semibold "+(p.size==="large"?"text-lg":"text-sm"),children:a})})]}),e.jsx("span",{className:"animate__animated animate__zoomIn pulse hidden text-red-500 cursor-pointer group-hover:block",onClick:()=>c(n),children:e.jsx(S,{size:18})})]})}function y({children:s}){return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:s})}function B({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h();return e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:"text-sm",children:t.composing_msg_action}),e.jsx("input",{type:"number",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-[var(--background-default)] group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",min:0,value:s.propriedades.composing,onChange:i=>{const n=parseInt(i.target.value);i.target.value.length<=2&&r(s.id,{composing:n}),n<0&&r(s.id,{composing:0})}}),e.jsx("h2",{className:"text-sm",children:t.segundos})]}),e.jsx("div",{className:"bg-[var(--background-default)] rounded-lg",children:e.jsx(k,{id:s.id,type:"textarea",position:"right",placeholder:t.digiteOTextoPlaceHolder,text:s.propriedades.mensagem,setText:i=>r(s.id,{mensagem:i}),heightCamp:110})}),e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:"text-sm",children:t.await_next_action}),e.jsx("input",{type:"number",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-[var(--background-default)] group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",min:0,value:s.propriedades.aguarde,onClick:i=>i.stopPropagation(),onChange:i=>{const n=parseInt(i.target.value);i.target.value.length<=2&&r(s.id,{aguarde:n}),n<0&&r(s.id,{aguarde:0})}}),e.jsx("h2",{className:"text-sm",children:t.segundos})]})]})}function C({id:s,type:a,title:r,place:t,value:i,setValue:n}){return e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label pb-0",children:e.jsx("span",{className:"label-text font-semibold",children:r})}),a==="default"?e.jsx("input",{type:"text",placeholder:t,className:"input input-bordered input-sm w-full",onClick:p=>p.stopPropagation(),onChange:p=>n(p.target.value),value:i}):e.jsx(k,{id:s,className:"bg-[var(--background-default)]",type:a,position:"right",placeholder:t,text:i,setText:p=>n(p),heightCamp:110})]})}function We({acao:s,acaoModel:a}){const{language:r}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:"txt",acaoModel:a,children:r.card_txt}),e.jsx(B,{acao:s,acaoModel:a})]})}function Je({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:t.card_image}),e.jsxs("div",{className:"flex gap-4 w-full flex-wrap",children:[e.jsx("div",{className:"m-auto",children:e.jsx("img",{className:"min-w-[100px] w-auto min-h-[115px] max-h-[300px] h-auto  rounded",src:s.propriedades.base64,alt:"imagem-autoAtt"})}),e.jsx("label",{htmlFor:s.id,className:"w-full",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 py-2 rounded-lg hover:bg-[var(--dropdown-background-hover)] px-2",children:[e.jsx("span",{className:"text-sm",children:t.card_image_viewOne}),e.jsx(R,{switchUpdate:()=>{r(s.id,{isViewOnce:!s.propriedades.isViewOnce})},estado:s.propriedades.isViewOnce,id:s.id})]})}),e.jsx(B,{acao:s,acaoModel:a})]})]})}function Ke({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h(),i=(n,c)=>{c&&r(s.id,{[n==="isViewOnce"?"microVideo":"isViewOnce"]:!c}),r(s.id,{[n]:c})};return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:t.card_video}),e.jsxs("div",{className:"flex gap-4 w-full flex-wrap",children:[e.jsx("div",{className:"m-auto",children:e.jsx("video",{className:"min-w-[100px] w-auto min-h-[115px] max-h-[300px] h-auto p-1",src:s.propriedades.base64,controls:!0})}),e.jsx("label",{htmlFor:`${s.id}_isViewOnce`,className:"w-full",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 py-2 rounded-lg hover:bg-[var(--dropdown-background-hover)] px-2",children:[e.jsx("span",{className:"text-sm",children:t.card_video_viewOne}),e.jsx(R,{switchUpdate:()=>i("isViewOnce",!s.propriedades.isViewOnce),estado:s.propriedades.isViewOnce,id:`${s.id}_isViewOnce`})]})}),e.jsx("label",{htmlFor:`${s.id}_microVideo`,className:"w-full",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 py-2 rounded-lg hover:bg-[var(--dropdown-background-hover)] px-2",children:[e.jsx("span",{className:"text-sm",children:t.card_video_circle}),e.jsx(R,{switchUpdate:()=>i("microVideo",!s.propriedades.microVideo),estado:s.propriedades.microVideo,id:`${s.id}_microVideo`})]})}),e.jsx(B,{acao:s,acaoModel:a})]})]})}function Xe({acao:s,acaoModel:a}){const{language:r,idioma:t}=h(),{setAcaoPropriedades:i}=v[a]();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:r.card_audio}),s?.propriedades?.base64?.length>0&&e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:"text-sm",children:r.recording_msg_action}),e.jsx("input",{type:"number",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-[var(--background-default)] group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",min:0,value:s.propriedades.composing,onClick:n=>n.stopPropagation(),onChange:n=>{const c=parseInt(n.target.value);n.target.value.length<=2&&i(s.id,{composing:c}),c<0&&i(s.id,{composing:0})}}),e.jsx("h2",{className:"text-sm",children:r.segundos})]}),e.jsx(ge,{id:s.id,base64:s.propriedades.base64,onBase64:n=>i(s.id,{base64:n}),idioma:t})]})}function Ze({acao:s,acaoModel:a}){const{language:r}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:r.card_doc}),e.jsx("div",{className:"animate__animated animate__zoomIn",children:e.jsxs("div",{className:"flex gap-2 items-center justify-center py-2 p-1",children:[e.jsx("div",{className:"x1c4vz4f xs83m0k xdl72j9 x1g77sc7 xeuugli x2lwn1j xozqiw3 x1oa3qoh x12fk4p8",style:{flexShrink:0},children:e.jsx("div",{className:"xiy17q3 x1tbiz1a x1gnnpzl x23j0i4 icon-doc-generic"})}),e.jsx("div",{className:"x6ikm8r x10wlt62 xlyipyv x1yn0g08 x104kibb x1h7i4cw x1ua5tub",children:e.jsx("span",{dir:"auto",className:"x13faqbe _ao3e",style:{minHeight:"0px"},children:s.propriedades.base64Name.replace("."," - ")})})]})})]})}function Qe({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{quickReplies:t}=xe(),{open:i}=I(),{language:n}=h(),c=p=>{const g=p.currentTarget;i(e.jsx($e,{onSelect:({id:f})=>r(s.id,{respostaRapidaID:f})}),{placement:"left-end"},g,-10,{mounted:()=>g?.classList.add("!border-[var(--primaria)]"),desmouted:()=>g?.classList.remove("!border-[var(--primaria)]")})};return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:"res",acaoModel:a,children:n.card_respostaRapida}),e.jsx("div",{className:"form-control w-full",children:e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid m-1 w-min",onClick:p=>c(p),children:t.map(p=>{if(p.id===s.propriedades.respostaRapidaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(ie,{type:p.type})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:p.titulo})]})})})})]})}function Ye({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t}=v[a](),i=ee(o=>o.crm),n=M(o=>o.userTabs),c=I(o=>o.open),p=h(o=>o.language),[g,f]=u.useState([]);u.useEffect(()=>{f(()=>[{id:"abas",list:n,name:`${p.abas}`,hexColor:"var(--primaria)"},...i])},[i,n]);const j=(o,l)=>{const d=o.currentTarget;c(l,{placement:"left-end"},d,-10,{mounted:()=>d?.classList.add("!border-[var(--primaria)]"),desmouted:()=>d?.classList.remove("!border-[var(--primaria)]")})};return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(b,{id:s.id,ico:s.type,icoStyle:"w-4 h-4 text-[var(--icon)]",acaoModel:a,children:p.card_addCRM}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:p.selecioneOCRM})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:o=>j(o,e.jsx(ne,{onSelect:l=>t(s.id,{crmID:l.id,abaID:l.list[0].id})})),children:g.map(o=>{if(o.id===s.propriedades.crmID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:o.id==="abas"?e.jsx(T,{className:"h-5 w-5",style:{color:o.hexColor}}):e.jsx(E,{className:"h-5 w-5",style:{color:o.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:o.name})]})})})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:p.selecioneAba})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:o=>j(o,s.propriedades.crmID==="abas"?e.jsx(ae,{onSelect:({id:l})=>t(s.id,{abaID:l})}):e.jsx(le,{id:s.propriedades.crmID,onSelect:({id:l})=>t(s.id,{abaID:l})})),children:s.propriedades.crmID==="abas"?n.map(o=>{if(o.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(T,{className:"h-5 w-5 text-[var(--primaria)]"})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:o.tag})]})}):i.map(o=>{if(o.id===s.propriedades.crmID)return o.list.map(l=>{if(l.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(E,{className:"h-5 w-5",style:{color:l.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:l.name})]},l.id)})})})]})]})}function Me({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t}=v[a](),i=ee(o=>o.crm),n=M(o=>o.userTabs),c=I(o=>o.open),p=h(o=>o.language),[g,f]=u.useState([]);u.useEffect(()=>{f(()=>[{id:"abas",list:n,name:`${p.abas}`,hexColor:"var(--primaria)"},...i])},[i,n]);const j=(o,l)=>{const d=o.currentTarget;c(l,{placement:"left-end"},d,-10,{mounted:()=>d?.classList.add("!border-[var(--primaria)]"),desmouted:()=>d?.classList.remove("!border-[var(--primaria)]")})};return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(b,{id:s.id,ico:"removeCRM",acaoModel:a,children:p.card_removeCRM}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:p.selecioneOCRM})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:o=>j(o,e.jsx(ne,{onSelect:l=>t(s.id,{crmID:l.id,abaID:l.list[0].id})})),children:g.map(o=>{if(o.id===s.propriedades.crmID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:o.id==="abas"?e.jsx(T,{className:"h-5 w-5",style:{color:o.hexColor}}):e.jsx(E,{className:"h-5 w-5",style:{color:o.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:o.name})]})})})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:p.selecioneAAba})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:o=>j(o,s.propriedades.crmID==="abas"?e.jsx(ae,{onSelect:({id:l})=>t(s.id,{abaID:l})}):e.jsx(le,{id:s.propriedades.crmID,onSelect:({id:l})=>t(s.id,{abaID:l})})),children:s.propriedades.crmID==="abas"?n.map(o=>{if(o.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(T,{className:"h-5 w-5 text-[var(--primaria)]"})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:o.tag})]})}):i.map(o=>{if(o.id===s.propriedades.crmID)return o.list.map(l=>{if(l.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(E,{className:"h-5 w-5",style:{color:l.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:l.name})]},l.id)})})})]})]})}function $({acao:s,acaoModel:a}){const{language:r}=h();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsxs(b,{id:s.id,ico:s.type,compStyle:"text-red-500",icoStyle:s.type==="removeAllCRM"?"w-4 h-4":"w-5 h-5",acaoModel:a,children:[s.type==="removeAllCRM"&&r.card_removeAllCRM,s.type==="removeAllLabel"&&r.card_removeAllLabel,s.type==="bloquear"&&r.card_bloquear]})})}function Z({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{open:t}=I(),{language:i}=h(),[n,c]=u.useState(null);u.useEffect(()=>{(async()=>c(await de.Labels("getLabelById",s.propriedades.labelID)))()},[s.propriedades]);const p=g=>{const f=g.currentTarget;t(e.jsx(Fe,{onSelect:j=>r(s.id,{labelID:j})}),{placement:"left-end"},f,-10,{mounted:()=>f?.classList.add("!border-[var(--primaria)]"),desmouted:()=>f?.classList.remove("!border-[var(--primaria)]")})};return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(b,{id:s.id,ico:s.type,icoStyle:"h-5 w-5",acaoModel:a,children:s.type==="addLabel"?i.card_addLabel:i.card_removeLabel}),e.jsx("div",{className:"form-control w-full",children:e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid m-1 w-min",onClick:g=>p(g),children:n&&e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(he,{className:"w-5 h-5",style:{color:n.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:n.name})]})})})]})}function es({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t,setRemoveAcao:i}=v[a](),{language:n}=h();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("span",{children:e.jsx(se,{type:s.type,style:"h-5 w-5 text-[var(--icon)] "+(s.type==="recording"?"text-red-500":"")})}),e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:n[`card_${s.type}`]}),e.jsx("input",{type:"number",placeholder:"10",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-base-200 group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",value:s.propriedades.segundos,min:0,onClick:c=>c.stopPropagation(),onChange:c=>{const p=parseInt(c.target.value);c.target.value.length<=2&&t(s.id,{segundos:p}),p<0&&t(s.id,{segundos:p})}}),e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:n.segundos})]})]}),e.jsx("div",{className:"animate__animated animate__zoomIn pulse hidden text-red-500 cursor-pointer group-hover:block",onClick:()=>i(s.id),children:e.jsx(S,{size:18})})]})})}function Q({acao:s,acaoModel:a}){const{language:r}=h();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsx(b,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--icon)]",acaoModel:a,children:s.type==="arquivar"?r.card_arquivar:r.card_desarquivar})})}function ss({acao:s,acaoModel:a}){const{language:r}=h();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsx(b,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--icon)]",acaoModel:a,children:r.card_marcarNaoLido})})}const ts=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f216.js")),[]));function rs({actionID:s,acaoModel:a}){return e.jsx(u.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ts,{actionID:s,acaoModel:a})})}function is({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t}=v[a](),{open:i}=I(),{language:n}=h();return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(b,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--panel-header-icon)]",acaoModel:a,children:n.card_transferir}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(k,{id:"Transferir_atendimento",className:"bg-[var(--background-default)]",titulo:e.jsx("span",{className:r.size==="large"?"text-lg":"text-sm",children:n.mensagemASerEnviadaAtendente}),type:"textarea",position:"right",placeholder:n.digiteAMensagem??"",text:s.propriedades.mensagem,setText:c=>t(s.id,{mensagem:c}),heightCamp:110}),e.jsx("label",{htmlFor:"urgencia",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 px-1 py-2",children:[e.jsx("span",{className:r.size==="large"?"text-lg":"text-sm",children:n.atendimentoComUrgencia}),e.jsx(R,{estado:s.propriedades.urgencia,switchUpdate:()=>t(s.id,{urgencia:!s.propriedades.urgencia}),id:"urgencia"})]})}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text "+(r.size==="large"?"text-sm":"text-xs"),children:n.digiteSelecioneEmailAtentente})}),e.jsxs("label",{className:"input input-bordered border border-solid input-sm flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:[e.jsx("path",{d:"M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"}),e.jsx("path",{d:"M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"})]}),e.jsx("input",{type:"text",placeholder:n.digiteEmailAtendente,className:"grow",value:s.propriedades.email,onChange:c=>t(s.id,{email:c.target.value})})]})]}),e.jsx(te,{name:n.selecionarAtendentesConectados,funcao:c=>i(e.jsx(rs,{actionID:s.id,acaoModel:a}),{placement:"top"},c.target,-10,{mounted:()=>c.target.parentNode.classList.add("btn-ativo"),desmouted:()=>c.target.parentNode.classList.remove("btn-ativo")})})]})]})}function Y({acao:s,acaoModel:a}){const{language:r}=h();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsx(b,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--icon)]",acaoModel:a,children:s.type==="fixarChat"?r.card_fixarChat:r.card_desfixarChat})})}function as({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:t.card_pix}),e.jsxs("div",{className:"flex flex-col gap-2 p-2 m-auto max-w-[500px]",children:[e.jsxs("label",{className:"form-control w-full",children:[e.jsxs("div",{className:"label pb-0",children:[e.jsx("span",{className:"label-text font-semibold",children:t.pixSelectChave}),e.jsx("div",{className:"cursor-pointer lg:tooltip lg:tooltip-left before:!w-[220px]","data-tip":t.pixIOSTooltip,children:e.jsx("div",{className:"pulse text-[var(--icon)]",children:e.jsx(F,{size:20})})})]}),e.jsxs("select",{value:s.propriedades.keyType,className:"select select-bordered select-sm w-full pt-0 border-solid",onClick:i=>i.stopPropagation(),onChange:i=>r(s.id,{keyType:i.target.value}),children:[e.jsx("option",{disabled:!0,selected:!0,children:t.pixSelectChave}),e.jsx("option",{value:"CNPJ",children:"CNPJ"}),e.jsx("option",{value:"CPF",children:"CPF"}),e.jsx("option",{value:"PHONE",children:t.telefone}),e.jsx("option",{value:"EMAIL",children:"Email"}),e.jsx("option",{value:"EVP",children:t.pixRandomKey})]})]}),e.jsx(C,{id:"destinatario_"+s.id,type:"default",title:t.pixDestinatario,place:t.pixDestinatarioPlace,value:s.propriedades.name,setValue:i=>r(s.id,{name:i})}),e.jsx(C,{id:"key_"+s.id,type:"default",title:t.pixChave,place:t.pixChavePlace,value:s.propriedades.key,setValue:i=>r(s.id,{key:i})})]})]})}function ls({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h(),[i,n]=u.useState([]);return u.useEffect(()=>{(async()=>n(await de.Group("getGroupsIAmAdmin")))()},[]),e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:t.card_groupInvite}),e.jsxs("label",{className:"form-control w-full max-w-[350px] pb-1",children:[e.jsxs("div",{className:"label pb-0",children:[e.jsx("span",{className:"label-text font-semibold",children:t.card_groupInvite_desc}),e.jsx("div",{className:"cursor-pointer lg:tooltip lg:tooltip-left before:!w-[220px]","data-tip":t.card_groupInvite_isAdmin,children:e.jsx("div",{className:"pulse text-[var(--icon)]",children:e.jsx(F,{size:20})})})]}),e.jsxs("select",{className:"select select-bordered select-sm w-full pt-0 border-solid",onClick:c=>c.stopPropagation(),value:s.propriedades.groupID,onChange:c=>r(s.id,{groupID:c.target.value}),children:[e.jsx("option",{disabled:!0,selected:!0,children:t.card_groupInvite_select}),i.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})]})]})}function ns({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:t.card_contact}),e.jsxs("div",{className:"flex flex-col gap-2 p-2 m-auto w-full max-w-[350px]",children:[e.jsx(C,{id:"title_"+s.id,type:"default",title:t.nome,place:t.card_contact_place,value:s.propriedades.userName,setValue:i=>r(s.id,{userName:i})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm text-base-content font-semibold",children:t.phone}),e.jsx(qe,{id:"telefone_"+s.id,place:t.card_contact_title_place,value:s.propriedades.userID,setValue:i=>r(s.id,{userID:i}),inputClass:""})]})]})]})}function ds({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=v[a](),{language:t}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:t.card_linkPreview}),e.jsxs("div",{className:"flex flex-col gap-2 p-2 m-auto w-full max-w-[300px]",children:[e.jsx(C,{id:"link_"+s.id,type:"default",title:"Link",place:t.card_linkPreview_place,value:s.propriedades.link,setValue:i=>r(s.id,{link:i})}),e.jsx(C,{id:"text_"+s.id,type:"input",title:t.agendamento_table_titulo,place:t.agendamento_PlaceTitulo,value:s.propriedades.title,setValue:i=>r(s.id,{title:i})}),e.jsx(C,{id:"desc_"+s.id,type:"textarea",title:t.card_linkPreview_desc,place:t.card_linkPreview_desc_place,value:s.propriedades.description,setValue:i=>r(s.id,{description:i})})]})]})}function os({acao:s,acaoModel:a}){const{language:r}=h();return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:s.type,acaoModel:a,children:r.card_sticker}),e.jsx("div",{className:"mb-1 flex gap-4 w-full flex-wrap",children:e.jsx("div",{className:"m-auto",children:e.jsx("img",{className:"min-w-[100px] w-auto min-h-[115px] max-h-[300px] h-auto rounded",src:s.propriedades.base64,alt:"Sticker"})})})]})}const A=10,D=10;function cs({acao:s,acaoModel:a}){const{setAcaoPropriedades:r,updateAcaoRowField:t}=v[a](),{language:i}=h(),n=()=>s.propriedades.sections.reduce((d,x)=>d+x.rows.length,0),c=()=>s.propriedades.sections.length<A,p=d=>{const x=s.propriedades.sections.find(m=>m.sectionId===d);return x?x.rows.length<D:!1},g=()=>{if(!c())return;const d={sectionId:W(),title:"",rows:[]};r(s.id,{sections:[...s.propriedades.sections,d]})},f=d=>{r(s.id,{sections:s.propriedades.sections.filter(x=>x.sectionId!==d)})},j=(d,x)=>{r(s.id,{sections:s.propriedades.sections.map(m=>m.sectionId===d?{...m,title:x}:m)})},o=d=>{p(d)&&r(s.id,{sections:s.propriedades.sections.map(x=>x.sectionId===d?{...x,rows:[...x.rows,{rowId:W(),title:"",description:""}]}:x)})},l=(d,x)=>{r(s.id,{sections:s.propriedades.sections.map(m=>m.sectionId===d?{...m,rows:m.rows.filter(N=>N.rowId!==x)}:m)})};return e.jsxs(y,{children:[e.jsx(b,{id:s.id,ico:"list",acaoModel:a,children:i.card_list}),e.jsxs("span",{className:"text-xs text-red-500",children:["* ",i.card_list_desc]}),e.jsxs("div",{className:"p-2 grid gap-1",children:[e.jsx(C,{id:"title_"+s.id,type:"default",title:i.tituloDaListaOpcional,place:i.exMenuDeAlmoco,value:s.propriedades.title,setValue:d=>r(s.id,{title:d})}),e.jsx(C,{id:"description_"+s.id,type:"textarea",title:i.descricao,place:i.descrevaBrevementeALista,value:s.propriedades.description,setValue:d=>r(s.id,{description:d})}),e.jsx(C,{id:"footer_"+s.id,type:"default",title:i.rodapeOpcional,place:i.exDeliveryAte22h,value:s.propriedades.footer,setValue:d=>r(s.id,{footer:d})}),e.jsx(C,{id:"btn_text_"+s.id,type:"default",title:i.textoDoBotao,place:i.exFacaSeuPedido,value:s.propriedades.buttonText,setValue:d=>r(s.id,{buttonText:d})})]}),e.jsxs("div",{className:"border-2 border-solid border-[var(--workflow-border)] rounded-xl p-2 w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 border border-[var(--workflow-border)] rounded-lg",children:e.jsx(V,{className:"text-sm"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:i.categoriasDoMenu}),e.jsx("p",{className:"text-sm opacity-75",children:i.organizeSeusProdutosEmCategorias})]})]}),e.jsx("div",{className:"mb-4 space-y-2",children:s.propriedades.sections.length>=A&&e.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-sm text-yellow-600 dark:text-yellow-400",children:["⚠️ ",`${i.limitMaximo} ${A} ${i.categorias} ${i.atingido}`]})}),e.jsxs("button",{className:`flex items-center justify-center gap-2 w-full py-3 mb-4 border-2 border-dashed rounded-lg transition-all duration-200 font-medium ${c()?"border-[var(--workflow-border)] hover:border-[var(--primaria)] cursor-pointer":"border-gray-300 opacity-50 cursor-not-allowed"}`,onClick:g,disabled:!c(),children:[e.jsx(U,{className:"text-sm"}),i.adicionarNovaCategoria," (",s.propriedades.sections.length,"/",A,")"]}),s.propriedades.sections.length===0?e.jsxs("div",{className:"text-center py-8 opacity-60",children:[e.jsx(V,{className:"text-4xl mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:i.nenhumaCategoriaAdicionadaAinda}),e.jsx("p",{className:"text-xs mt-1 opacity-75",children:i.cliqueParaCriarSuaPrimeiraCategoria})]}):e.jsx("div",{className:"space-y-4",children:s.propriedades.sections.map((d,x)=>e.jsxs("div",{className:"border-2 border-solid border-[var(--workflow-border)] rounded-lg overflow-hidden",children:[e.jsx("div",{className:"border-b border-[var(--workflow-border)] p-4 !pb-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(je,{className:"opacity-60"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-[var(--primaria)] text-[var(--text-contrast)] text-xs font-bold rounded-full",children:x+1}),e.jsx("h4",{className:"text-md font-semibold",children:d.title||`${i.categoria} ${x+1}`})]})]}),e.jsx("button",{className:"flex items-center justify-center w-8 h-8 hover:bg-[var(--workflow-border)] rounded-lg transition-colors duration-200",onClick:()=>f(d.sectionId),title:i.removerCategoria,children:e.jsx(S,{className:"text-sm text-red-500"})})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[i.nomeDaCategoria," ",x+1]}),e.jsx(k,{id:`fluxo-send-list-section-title-${d.sectionId}`,type:"input",position:"bottom",placeholder:i.placeHolderSectionTitle,text:d.title,setText:m=>j(d.sectionId,m)})]}),d.rows.length>=D&&e.jsxs("div",{className:"p-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-xs text-yellow-600 dark:text-yellow-400",children:["⚠️ ",`${i.limitMaximo} ${D} ${i.produtosNoTotal} ${i.atingido}`]}),d.rows.length===0?e.jsxs("div",{className:"text-center py-6 opacity-60 border border-[var(--workflow-border)] rounded-lg",children:[e.jsx(be,{className:"text-2xl mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:i.nenhumProdutoNestaCategoria})]}):e.jsx("div",{className:"space-y-3",children:d.rows.map((m,N)=>e.jsxs("div",{className:"border border-[var(--workflow-border)] border-solid rounded-lg p-3 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-[var(--secundaria)] text-[var(--text-contrast)] text-xs font-bold rounded",children:N+1}),e.jsxs("span",{className:"text-sm font-medium",children:[i.produto," ",N+1]})]}),e.jsx("button",{className:"flex items-center justify-center w-7 h-7 hover:bg-[var(--workflow-border)] rounded transition-colors duration-200",onClick:()=>l(d.sectionId,m.rowId),title:i.removerProduto,children:e.jsx(S,{className:"text-xs text-red-500"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium opacity-80 mb-1",children:i.nomeDoProduto}),e.jsx(k,{id:`fluxo-send-list-item-title-${d.sectionId}-${m.rowId}`,type:"input",position:"bottom",placeholder:i.placeHolderExemplosDeProdutos,text:m.title,setText:w=>t(s.id,d.sectionId,m.rowId,"title",w)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium opacity-80 mb-1",children:i.descricaoDoProdutoOpcional}),e.jsx(k,{id:`fluxo-send-list-item-description-${d.sectionId}-${m.rowId}`,type:"textarea",position:"bottom",placeholder:i.exemplosDeDescricoesDeProdutos,text:m.description,heightCamp:70,setText:w=>t(s.id,d.sectionId,m.rowId,"description",w)})]})]})]},m.rowId))}),e.jsxs("button",{className:`flex items-center gap-2 w-full py-2 px-3 border border-solid rounded-lg transition-all duration-200 text-sm font-medium ${p(d.sectionId)?"border-[var(--workflow-border)] hover:border-[var(--primaria)] cursor-pointer":"border-gray-300 opacity-50 cursor-not-allowed"}`,onClick:()=>o(d.sectionId),disabled:!p(d.sectionId),children:[e.jsx(U,{className:"text-xs"}),i.adicionarProdutoACategoria," (",d.rows.length,"/",D,")"]})]})]},d.sectionId))}),s.propriedades.sections.length>0&&e.jsx("div",{className:"mt-4 p-3 border border-[var(--workflow-border)] rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[e.jsx(V,{className:"text-xs"}),e.jsxs("span",{className:"font-medium",children:[i.resumo,":"]}),e.jsxs("span",{children:[s.propriedades.sections.length,"/",A," ",i.categoria,s.propriedades.sections.length!==1?"s":""," • "," ",n()," ",i.produto,n()!==1?"s":""," ",i.noTotal]})]})})]})]})}function ps({acao:s,index:a,acaoModel:r}){let t;switch(s.type){case"txt":t=e.jsx(We,{acaoModel:r,acao:s});break;case"image":t=e.jsx(Je,{acaoModel:r,acao:s});break;case"video":t=e.jsx(Ke,{acaoModel:r,acao:s});break;case"audio":t=e.jsx(Xe,{acaoModel:r,acao:s});break;case"doc":t=e.jsx(Ze,{acaoModel:r,acao:s});break;case"respostaRapida":t=e.jsx(Qe,{acaoModel:r,acao:s});break;case"addCRM":t=e.jsx(Ye,{acaoModel:r,acao:s});break;case"removeCRM":t=e.jsx(Me,{acaoModel:r,acao:s});break;case"removeAllCRM":t=e.jsx($,{acaoModel:r,acao:s});break;case"addLabel":t=e.jsx(Z,{acaoModel:r,acao:s});break;case"removeLabel":t=e.jsx(Z,{acaoModel:r,acao:s});break;case"removeAllLabel":t=e.jsx($,{acaoModel:r,acao:s});break;case"recording":case"composing":case"timer":t=e.jsx(es,{acaoModel:r,acao:s});break;case"arquivar":t=e.jsx(Q,{acaoModel:r,acao:s});break;case"desarquivar":t=e.jsx(Q,{acaoModel:r,acao:s});break;case"fixarChat":t=e.jsx(Y,{acaoModel:r,acao:s});break;case"desfixarChat":t=e.jsx(Y,{acaoModel:r,acao:s});break;case"marcarNaoLido":t=e.jsx(ss,{acaoModel:r,acao:s});break;case"transferir":t=e.jsx(is,{acaoModel:r,acao:s});break;case"bloquear":t=e.jsx($,{acaoModel:r,acao:s});break;case"pix":t=e.jsx(as,{acaoModel:r,acao:s});break;case"groupInvite":t=e.jsx(ls,{acaoModel:r,acao:s});break;case"contact":t=e.jsx(ns,{acaoModel:r,acao:s});break;case"linkPreview":t=e.jsx(ds,{acaoModel:r,acao:s});break;case"sticker":t=e.jsx(os,{acaoModel:r,acao:s});break;case"list":t=e.jsx(cs,{acaoModel:r,acao:s});break}return t}const ms=q({position:"relative"}),xs=q({width:"100%",flexShrink:"0",boxSizing:"border-box",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"space-between",padding:"space.050",position:"relative",borderWidth:"border.width",borderStyle:"solid",borderRadius:"8px",cursor:"grab"}),us=q({opacity:.4});function gs({item:s,index:a,position:r,acaoModel:t}){const{language:i}=h(),{model:n}=v[t](),{registerItem:c,instanceId:p}=Ue(),g=u.useRef(null),[f,j]=u.useState(null),o=u.useRef(null),[l,d]=u.useState(K);return u.useEffect(()=>{const x=g.current,m=o.current;L(x),L(m);const N=Ge({item:s,index:a,instanceId:p});return ye(c({itemId:s.id,element:x}),ke({element:m,getInitialData:()=>N,onGenerateDragPreview({nativeSetDragImage:w}){Ie({nativeSetDragImage:w,getOffset:ze({x:J("space.200","16px"),y:J("space.100","8px")}),render({container:_}){return d({type:"preview",container:_}),()=>d(X)}})},onDragStart(){d(X)},onDrop(){d(K)}}),Ce({element:x,canDrop({source:w}){return P(w.data)&&w.data.instanceId===p},getData({input:w}){return _e(N,{element:x,input:w,allowedEdges:["top","bottom"]})},onDrag({self:w,source:_}){if(_.element===x){j(null);return}const z=re(w.data),O=_.data.index;L(typeof O=="number");const pe=a===O-1,me=a===O+1;if(pe&&z==="bottom"||me&&z==="top"){j(null);return}j(z)},onDragLeave(){j(null)},onDrop(){j(null)}}))},[p,s,a,c]),e.jsxs(u.Fragment,{children:[e.jsxs(Le,{ref:g,xcss:ms,children:[e.jsx(Pe,{trigger:({triggerRef:x,...m})=>e.jsx("div",{className:"group","action-id":s.id,"acao-type":s.type,ref:Re([o,x]),"style-inject":"grid-atlassian",style:{...n?.style?.secundaria&&{background:n.style.secundaria,borderRadius:"8px"}},...m,children:e.jsx(Te,{alignItems:"center",columnGap:"space.100",templateColumns:"auto 1fr auto",xcss:[xs,l.type==="dragging"&&us],children:e.jsx(ps,{acao:s,index:a,acaoModel:t})})})}),f&&e.jsx("div",{className:"tema-indicador",children:e.jsx(Ee,{edge:f,gap:"1px"})})]}),l.type==="preview"&&Ve.createPortal(e.jsxs("div",{className:"max-w-[300px] p-2 rounded-lg border border-solid border-[var(--conversation-header-border)] flex items-center gap-1 ml-2",style:{...n?.style?.secundaria?{background:n.style.secundaria}:{background:"var(--background-default)"}},children:[e.jsxs("span",{children:[a+1," -"]}),e.jsx(se,{type:s.type}),e.jsx("span",{children:e.jsx("h2",{className:"font-semibold text-sm",children:i[`card_${s.type}`]})})]}),l.container)]})}function hs({index:s,items:a}){return a.length===1?"only":s===0?"first":s===a.length-1?"last":"middle"}function fs(){const s=new Map;function a({itemId:t,element:i}){return s.set(t,i),function(){s.delete(t)}}function r(t){return s.get(t)??null}return{register:a,getElement:r}}function js({acaoModel:s}){const{model:a,acao:r,sortAcoes:t}=v[s](),[{items:i,lastCardMoved:n},c]=u.useState({items:[],lastCardMoved:null}),[p]=u.useState(fs);u.useEffect(()=>{c(l=>({...l,items:r||[]}))},[r]);const[g]=u.useState(()=>Symbol("instance-id")),f=u.useCallback(({startIndex:l,indexOfTarget:d,closestEdgeOfTarget:x})=>{const m=Ae({startIndex:l,closestEdgeOfTarget:x,indexOfTarget:d,axis:"vertical"});m!==l&&(c(N=>{const w=N.items[l];return{items:Se({list:N.items,startIndex:l,finishIndex:m}),lastCardMoved:{item:w,previousIndex:l,currentIndex:m,numberOfItems:N.items.length}}}),t({oldIndex:l,newIndex:m}))},[]);u.useEffect(()=>De({canMonitor({source:l}){return P(l.data)&&l.data.instanceId===g},onDrop({location:l,source:d}){const x=l.current.dropTargets[0];if(!x)return;const m=d.data,N=x.data;if(!P(m)||!P(N))return;const w=i.findIndex(H=>H.id===N.item.id);if(w<0)return;const _=re(N);f({startIndex:m.index,indexOfTarget:w,closestEdgeOfTarget:_})}}),[g,i,f]),u.useEffect(()=>{if(n===null)return;const{item:l,previousIndex:d,currentIndex:x,numberOfItems:m}=n,N=p.getElement(l.id);N&&Oe(N)},[n,p]);const j=u.useCallback(()=>i.length,[i.length]),o=u.useMemo(()=>({registerItem:p.register,reorderItem:f,instanceId:g,getListLength:j}),[p.register,f,g,j]);return e.jsx(ce.Provider,{value:o,children:e.jsx("div",{className:"pb-1 flex flex-col gap-[6px]",children:i.map((l,d)=>e.jsx(gs,{item:l,index:d,position:hs({index:d,items:i}),acaoModel:s},l.id))})})}function Xs({acaoModel:s,openCollapse:a=!0,placement:r="left-end"}){const{model:t,acao:i,clearAcao:n}=v[s](),{open:c}=I(),{language:p}=h(),g=G(l=>l.close),f=G(l=>l.open),j=u.useRef(null);return e.jsx("aside",{"type-render":"Components","render-name":"acao",children:e.jsxs("div",{className:`
                collapse shadow-md border border-solid  border-[var(--conversation-header-border)]
                ${a?" ":"bg-base-200 "}
                ${t.arrow?"collapse-arrow ":" "}
            `,style:{...!t.overflow&&{overflow:"visible",overflowX:"clip"},...t?.style?.primaria&&{background:t.style.primaria}},ref:j,children:[e.jsx("input",{type:"radio",name:t.inputName,checked:a,onChange:t.OnOpen}),e.jsxs("div",{className:"collapse-title font-bold flex flex-wrap items-center gap-4 after:hidden "+(t.size==="large"?"text-xl":"text-lg"),children:[e.jsx("div",{children:p[s]}),a&&e.jsx("div",{className:"z-10",onClick:l=>c(e.jsx(He,{acaoModel:s}),{placement:r},l.target),children:e.jsxs("div",{className:"badge bg-[var(--primaria)] text-[var(--letra)] mt-2 cursor-pointer animate__animated animate__pulse animate__infinite animate__slow",children:[e.jsx("span",{className:"font-bold",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-bold",children:"Tags"}),e.jsx("span",{children:e.jsx(F,{className:"h-5 w-5"})})]})}),a&&i.length>=2&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"z-10 ml-6 relative top-[6px]",onMouseEnter:l=>f("Excluir todas as ações",{placement:r},l.target),onMouseLeave:g,onClick:()=>{g(),n()},children:e.jsx("span",{className:"lg:tooltip lg:tooltip-bottom text-red-500",children:e.jsx(S,{size:22})})}),e.jsx("div",{className:"z-10 ml-6 relative top-[6px]",onMouseEnter:l=>f(p.move_action,{placement:r},l.target),onMouseLeave:g,children:e.jsx("span",{className:"lg:tooltip lg:tooltip-bottom",children:e.jsx(ue,{className:"h-6 w-6"})})})]})]}),e.jsx("div",{className:"collapse-content !px-2",children:e.jsxs("div",{className:"gap-2 h-full "+(t.overflow?"overflow-y-auto px-1":""),children:[i.length===0&&e.jsx(Ne,{icon:e.jsx(we,{size:26,className:"text-[var(--primaria)]"}),title:p.empty_action,description:p.empty_action_desc}),e.jsx(js,{acaoModel:s}),s!=="useAcaoEnvioEmMassaNew"&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(te,{name:p.addAcao,funcao:l=>c(e.jsx(Be,{acaoModel:s}),{placement:r},l.currentTarget,10,{mounted:()=>l.target.parentNode.classList.add("btn-ativo"),desmouted:()=>l.target.parentNode.classList.remove("btn-ativo")})})})]})})]})})}export{Xs as default};
