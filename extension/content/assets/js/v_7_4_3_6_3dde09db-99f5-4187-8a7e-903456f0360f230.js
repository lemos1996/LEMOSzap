import{r as p,j as e}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f.js";import{u as P}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f20.js";import{m as O,n as I}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f23.js";import{S as E,a as M}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f152.js";import{a_ as z,a$ as D,b0 as W,b1 as A,b2 as F,D as T,aY as l,aR as c,b4 as B,Q as u,I as x}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f11.js";import{b as R}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f106.js";import{a as G,b as H,c as Y}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f35.js";import{c as Q}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f36.js";import{C as U}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f37.js";import{b as _}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f154.js";import{H as $}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f153.js";import{W as q}from"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f19.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f8.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f7.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f4.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f3.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f2.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f10.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f6.js";import"./v_7_4_3_6_3dde09db-99f5-4187-8a7e-903456f0360f9.js";function ge({setListagem:h,perfilBase:g}){const{language:s}=P(),{close:j}=O(),{open:f}=I(),[t,v]=p.useState({sexo:"",dataNascimento:"",cidade:"",estado:"",origemLead:"",entrada:"",saida:"",empresa:"",cargo:"",produtos:[]}),[d,m]=p.useState(""),o=async(a,r)=>{v({...t,[a]:r})},N=()=>{if(d.length<3){x({type:"Error",message:s.insertProductNameAtLeast3Chars,position:"top-right"});return}const a=[...t.produtos,d];o("produtos",a),m("")},b=[{name:"Whatsapp",ico:e.jsx(z,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Youtube",ico:e.jsx(D,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Facebook",ico:e.jsx(G,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Instagram",ico:e.jsx(W,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Linkedin",ico:e.jsx(H,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Tik Tok",ico:e.jsx(A,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Google",ico:e.jsx(Y,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"Site",ico:e.jsx(F,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:s.formulary,ico:e.jsx(Q,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})},{name:"CRM",ico:e.jsx(U,{size:"20px",color:"var(--icon)"})},{name:s.others,ico:e.jsx($,{size:"20px",color:"var(--icon)"})}],w=a=>{let r=[...t.produtos];r=r.filter(n=>n!==a),o("produtos",r)},y=()=>{const a=[{name:s.cancelSelection,value:""},{name:s.male,value:s.male},{name:s.female,value:s.female}];return e.jsx(c,{name:s.gender,estado:t.sexo.length===0?s.selectGender:t.sexo,children:e.jsx("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 mt-2 mr-4",children:a.map((r,n)=>e.jsx("li",{children:e.jsx("div",{className:"flex",onClick:()=>o("sexo",r.value),children:e.jsx("span",{children:r.name})})},n))})})},C=()=>e.jsxs("div",{className:"py-1 grid gap-2",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.produtos.map((a,r)=>e.jsxs("div",{className:"badge bg-[var(--primaria)] gap-1 flex",children:[e.jsx("span",{className:"font-medium text-[var(--letra)]",children:a}),e.jsx("span",{className:"pulse cursor-pointer",onClick:()=>w(a),children:e.jsx(_,{className:"w-5 h-5 text-[var(--letra)]"})})]},r))}),e.jsxs("div",{className:"flex items-end justify-start gap-2 w-full",children:[e.jsx("div",{className:"w-full",children:e.jsx(l,{name:s.productsInterest,btnClose:!0,placeholder:s.insertProductInterest,estado:d,setEstado:a=>m(a.target.value)})}),e.jsx("div",{children:e.jsx(u,{name:s.insert,funcao:N})})]})]}),S=async()=>{j();let a=g.map(n=>({id:n.userID,...n}));const r=n=>Array.isArray(n)?n.map(i=>i.toLowerCase()):n.toLowerCase();a=a.filter(n=>{for(let i in t)if(i==="produtos"&&t[i].length>0){if(!t[i].every(k=>n[i].map(L=>L.toLowerCase()).includes(k.toLowerCase())))return!1}else if(t[i].length!==0&&r(n[i])!==r(t[i]))return!1;return!0}),h(await q.Utils("get-crmContatos",a)),x({type:"Success",message:s.filtragemContatosRealizada,position:"top-right"})};return e.jsxs("div",{className:"w-[450px] grid gap-4",children:[e.jsx(T,{children:s.filtragemAvancada}),e.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 105px)"},children:[e.jsxs("div",{className:"flex gap-3 justify-between flex-wrap",children:[e.jsx("div",{className:"my-auto",children:y()}),e.jsx("div",{className:"my-auto",children:e.jsx(l,{name:s.dateOfBirth,placeholder:s.dateOfBirth,type:"Date",estado:t.dataNascimento,setEstado:a=>o("dataNascimento",a.target.value),children:e.jsx("input",{type:"date",className:"bg-[var(--search-input-background)] w-[20px] dateON cursor-pointer",value:t.dataNascimento,onChange:a=>o("dataNascimento",a.target.value)})})})]}),e.jsxs("div",{className:"p-2 mb-3 grid gap-3",children:[e.jsx(l,{name:s.city,btnClose:!0,placeholder:s.insertCity,estado:t.cidade,setEstado:a=>o("cidade",a.target.value),children:e.jsx(R,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})}),e.jsx("div",{onClick:a=>f(e.jsx(E,{onSelect:r=>o("estado",r)}),{placement:"left"},a.currentTarget,0),children:e.jsx(c,{name:s.state,estado:t.estado&&t.estado.length!==0?t.estado:s.nenhumSelecionado})}),e.jsx(c,{name:s.originOfLead,estado:t.origemLead.length===0?s.selectOrigin:t.origemLead,children:e.jsx("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 mt-2 h-[320px] overflow-auto grid",children:b.map((a,r)=>e.jsx("li",{children:e.jsxs("div",{className:"flex",onClick:()=>o("origemLead",a.name),children:[e.jsx("span",{children:a.ico}),e.jsx("span",{children:a.name})]})},r))})}),e.jsxs("div",{className:"flex gap-3 justify-between flex-wrap",children:[e.jsx("div",{className:"my-auto",children:e.jsx(l,{name:s.entryDate,type:"Date",estado:t.entrada,setEstado:a=>o("entrada",a.target.value),children:e.jsx("input",{type:"date",className:"bg-[var(--search-input-background)] w-[20px] dateON cursor-pointer",value:t.entrada,onChange:a=>o("entrada",a.target.value)})})}),e.jsx("div",{className:"my-auto",children:e.jsx(l,{name:s.departureDate,type:"Date",estado:t.saida,setEstado:a=>o("saida",a.target.value),children:e.jsx("input",{type:"date",className:"bg-[var(--search-input-background)] w-[20px] dateON cursor-pointer",value:t.saida,onChange:a=>o("saida",a.target.value)})})})]})]}),e.jsxs("div",{className:"p-2 mb-3 grid gap-3",children:[e.jsx(l,{name:s.company,btnClose:!0,placeholder:s.addCompany,estado:t.empresa,setEstado:a=>o("empresa",a.target.value),children:e.jsx(M,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})}),e.jsx(l,{name:s.job,btnClose:!0,placeholder:s.jobTitle,estado:t.cargo,setEstado:a=>o("cargo",a.target.value),children:e.jsx(B,{className:"w-5 h-5 text-[var(--panel-header-icon)]"})}),C()]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(u,{name:s.filtrar,funcao:S})})]})]})}export{ge as default};
